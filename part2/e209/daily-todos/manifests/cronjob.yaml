apiVersion: batch/v1
kind: CronJob
metadata:
  name: daily-todo
spec:
  schedule: "*/10 * * * *"
  jobTemplate:
    spec:
      template:
        spec:
          containers:
          - name: daily-todo
            image: alpine/curl:3.14
            imagePullPolicy: IfNotPresent
            command:
            - /bin/sh
            - -c
            - date; echo Hello, testing curl
            - curl
            - -v 
            - https://en.wikipedia.org/wiki/Special:Random
            - 2>&1 >/dev/null
            - |
            - grep
            - '< location: '
            - |
            - cut
            - -c13-153
          restartPolicy: OnFailure
